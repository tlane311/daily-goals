[{"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\index.js":"1","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\task\\task.js":"2","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\sticky\\Sticky.js":"3","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\app.js":"4","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\stickies-bar\\StickiesBar.js":"5","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\details-bar\\DetailsBar.js":"6","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useAPI.js":"7","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\login\\Login.js":"8","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useLocalStorage.js":"9","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\register\\Register.js":"10","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\MainPage.js":"11","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\LoginPage.js":"12","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\RegisterPage.js":"13","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\login\\login.js":"14","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\listManagement.js":"15","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\goalManagement.js":"16","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useKeyDown.js":"17","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\userManagement.js":"18","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\task\\OrderButtons.js":"19","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\details-bar\\GoalDetails.js":"20","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\details-bar\\ListDetails.js":"21","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\default-data.js":"22","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\NewUserPage.js":"23","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\createTrialAccount.js":"24","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\task\\HighlightedText.js":"25","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\AccountMgmtPage.js":"26","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useWindowDimensions.js":"27"},{"size":133,"mtime":1615407378066,"results":"28","hashOfConfig":"29"},{"size":3268,"mtime":1618339601079,"results":"30","hashOfConfig":"29"},{"size":10264,"mtime":1618259716586,"results":"31","hashOfConfig":"29"},{"size":12396,"mtime":1618414237455,"results":"32","hashOfConfig":"29"},{"size":8517,"mtime":1618425934737,"results":"33","hashOfConfig":"29"},{"size":2961,"mtime":1618091420719,"results":"34","hashOfConfig":"29"},{"size":2143,"mtime":1616615550478,"results":"35","hashOfConfig":"29"},{"size":3430,"mtime":1616607116628,"results":"36","hashOfConfig":"29"},{"size":375,"mtime":1616605752832,"results":"37","hashOfConfig":"29"},{"size":3283,"mtime":1618261988065,"results":"38","hashOfConfig":"29"},{"size":6657,"mtime":1618425966736,"results":"39","hashOfConfig":"29"},{"size":1057,"mtime":1618264324303,"results":"40","hashOfConfig":"29"},{"size":1032,"mtime":1618263802966,"results":"41","hashOfConfig":"29"},{"size":3510,"mtime":1618265249239,"results":"42","hashOfConfig":"29"},{"size":1380,"mtime":1616706760059,"results":"43","hashOfConfig":"29"},{"size":1889,"mtime":1617037433929,"results":"44","hashOfConfig":"29"},{"size":521,"mtime":1616781887140,"results":"45","hashOfConfig":"29"},{"size":1699,"mtime":1617995461007,"results":"46","hashOfConfig":"29"},{"size":373,"mtime":1618082573690,"results":"47","hashOfConfig":"29"},{"size":7207,"mtime":1618259622986,"results":"48","hashOfConfig":"29"},{"size":2940,"mtime":1618258057915,"results":"49","hashOfConfig":"29"},{"size":666,"mtime":1617820272095,"results":"50","hashOfConfig":"29"},{"size":2528,"mtime":1618348581348,"results":"51","hashOfConfig":"29"},{"size":1865,"mtime":1617995191909,"results":"52","hashOfConfig":"29"},{"size":1957,"mtime":1618422251323,"results":"53","hashOfConfig":"29"},{"size":3974,"mtime":1618421714251,"results":"54","hashOfConfig":"29"},{"size":604,"mtime":1618425539225,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"1heis9t",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"58"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"58"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"58"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"58"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"58"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"58"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"110"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\index.js",[],["123","124"],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\task\\task.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\sticky\\Sticky.js",["125","126","127","128","129"],"import {useState, useEffect} from 'react';\r\nimport '../../component-styles/sticky.css';\r\n\r\nimport Task from '../task/task.js';\r\n\r\nimport React from 'react';\r\n\r\nimport goalManagement from '../../services/goalManagement.js';\r\nimport listManagement from '../../services/listManagement.js';\r\nimport userManagement from '../../services/userManagement.js';\r\n\r\nimport useKeyDown from '../../hooks/useKeyDown.js';\r\n\r\n\r\nexport default function Sticky({ token, theList, theGoals, goalSelected, setGoalSelected, getListDetails, setGetListDetails, handleListDeletion, updateGoals, updateLists, detailsBarIsVisible, setDetailsBarIsVisible }){\r\n    const enterKeyIsDown = useKeyDown('Enter'); // We would like for the user to be able create a new goal using \"Enter\" key\r\n\r\n    // Shape of theGoals: { fetchedOnce, data }\r\n\r\n    const [goals, setGoals] = useState(theGoals ? theGoals.data : []);\r\n\r\n    useEffect( () => {\r\n        const newGoals = theGoals ? {...theGoals} : {fetchedOnce: false, data: []}\r\n        setGoals(newGoals.data)\r\n    }, [theGoals]);\r\n\r\n\r\n    // if the goals aren't sorted, handle sorting\r\n    useEffect( () => {\r\n        // Note, we define an async function and then call it to make sure our db updates happen in a given order\r\n        // If we modify this in the future, take this note into consideration.\r\n\r\n        const asyncEffect = async () => {\r\n\r\n            // If order numbers are inconsistent, we will update db and the rerender app.\r\n            // If order numbers are consistent, we will sort theGoals and store as state.\r\n\r\n            // This const is just so that we always have a well-defined theGoals-like obj. Hence: 'reliable'.\r\n            const reliableGoals = theGoals ? {...theGoals} : {fetchedOnce: false, data: []}\r\n\r\n            // containsRepeats returns a boolean representing if the arr contains repeats\r\n            const repeatsExist = containsRepeats(reliableGoals.data.map(goal => goal['order_number']));\r\n            const gapsExist = reliableGoals.data.filter( goal => goal['order_number'] >= reliableGoals.data.length).length;\r\n\r\n            // If no gaps exist, then every element has order number less than the length.\r\n            // If there are no repeats and no gaps, then theGoals.data.map(goal => goal['order_number']) = [0,1,2,3, ..., theGoals.length - 1];\r\n            const sortingNeeded = gapsExist || repeatsExist;\r\n            \r\n            if (sortingNeeded) {\r\n                // We order the given reliableGoals by the order-numbers presented.\r\n                // Then, we will change the order-numbers so that no repeats or gaps exist\r\n                // If we do not first order reliableGoals, then really chaotic reorderings can happen if the user spams the order-buttons.\r\n                const orderedGoals = [...reliableGoals.data];\r\n                orderedGoals.sort( (first, second) => first['order_number'] - second['order_number']);\r\n                // Note, for a compare fn, positive difference means reverse order, nonpositive difference means preserve order\r\n                for (let i=0; i < orderedGoals.length; i++){                \r\n                    await goalManagement.update( token,\r\n                        orderedGoals[i]['goal_id'], //goalId\r\n                        orderedGoals[i]['goal'], //goal\r\n                        i, //orderNumber.\r\n                        orderedGoals[i]['deadline'], //deadline\r\n                        orderedGoals[i]['status'], //status\r\n                        orderedGoals[i]['note'], //note\r\n                        orderedGoals[i]['color'], //color\r\n                    )\r\n                }\r\n\r\n                return updateGoals();\r\n            }\r\n\r\n            // If sorting not needed ...\r\n            const sorted = [...reliableGoals.data].sort( (a,b) => a['order_number'] - b['order_number']);\r\n            // Note, for a compare fn, positive difference means reverse order, nonpositive difference means preserve order\r\n            setGoals(sorted);\r\n        }\r\n        if (token){  \r\n            asyncEffect();\r\n        }\r\n\r\n    }, [theGoals])\r\n\r\n    const [newTask, setNewTask] = useState(\"\");\r\n\r\n    const handleNewGoalCreation = async e => {\r\n        // if user is logged in, update the db and the tell App to fetch the updated data\r\n        if (token){\r\n            await goalManagement.create(token, theList['list_id'], newTask, theGoals.data.length);\r\n            setNewTask(\"\");\r\n            updateGoals();\r\n        }\r\n    }\r\n\r\n    useEffect( () => { // Note, we had some trouble using onKeyDown, so we make use of useEffect to handle the keydown \"event\".\r\n        if (enterKeyIsDown && newTask)\r\n        {\r\n            handleNewGoalCreation();\r\n        }\r\n    }, [enterKeyIsDown])\r\n\r\n    const handleIncreasePriority = (id) => {\r\n\r\n        // We will return an event handler that depends upon the id input\r\n\r\n        return e => {\r\n            // Here, we will update the priority in the db and then update the app\r\n\r\n            const targetIndex = goals.findIndex( goal => goal['goal_id'] === id);\r\n\r\n            // If target is the first element of the array OR for some reason the id is not found\r\n            if (targetIndex<=0) return;\r\n\r\n            // Otherwise,\r\n            \r\n            const targetGoal = goals[targetIndex];\r\n            const previousGoal = goals[targetIndex - 1]; // Note, if the function reaches here, targetIndex - 1 >= 0\r\n\r\n            goalManagement.update(token,\r\n                targetGoal['goal_id'],\r\n                targetGoal['goal'],\r\n                targetIndex - 1,\r\n                targetGoal['deadline'],\r\n                targetGoal['status'],\r\n                targetGoal['note'],\r\n                targetGoal['color'])\r\n                .then(res => {\r\n                    return goalManagement.update(token,\r\n                        previousGoal['goal_id'],\r\n                        previousGoal['goal'],\r\n                        targetIndex,\r\n                        previousGoal['deadline'],\r\n                        previousGoal['status'],\r\n                        previousGoal['note'],\r\n                        previousGoal['color']\r\n                    );\r\n                })\r\n                .then( res => {\r\n                    return updateGoals();\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n    const handleDecreasePriority = (id) => {\r\n        // We will return an event handler that depends upon the id input\r\n\r\n        return e => {\r\n            // Here, we will update the priority in the db and then update the app\r\n\r\n            const targetIndex = goals.findIndex( goal => goal['goal_id'] === id); \r\n\r\n            // If target is the last element of the array OR for some reason the id is not found\r\n            \r\n            if (targetIndex<0 || targetIndex===goals.length - 1) return;\r\n\r\n            // Otherwise,\r\n            \r\n            const targetGoal = goals[targetIndex];\r\n            const nextGoal = goals[targetIndex + 1]; // Note, if the function reaches here, targetIndex - 1 >= 0\r\n\r\n            goalManagement.update(token,\r\n                targetGoal['goal_id'],\r\n                targetGoal['goal'],\r\n                targetIndex + 1,\r\n                targetGoal['deadline'],\r\n                targetGoal['status'],\r\n                targetGoal['note'],\r\n                targetGoal['color'])\r\n                .then( res => {\r\n                    return goalManagement.update(token,\r\n                        nextGoal['goal_id'],\r\n                        nextGoal['goal'],\r\n                        targetIndex,\r\n                        nextGoal['deadline'],\r\n                        nextGoal['status'],\r\n                        nextGoal['note'],\r\n                        nextGoal['color']\r\n                    );\r\n                })\r\n                .then( res => {\r\n                    updateGoals();\r\n                });\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    const handleListDetails = e => {\r\n        if (!getListDetails){ // If user wasn't already looking at the list details, set visibility to true\r\n            setDetailsBarIsVisible(true)\r\n        } else { // If the user is looking at list details, toggle visibility\r\n            setDetailsBarIsVisible(!detailsBarIsVisible)\r\n        }\r\n        setGetListDetails(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"sticky\" id=\"sticky\"> {/* why do I have redundant class and id*/}\r\n            <h3\r\n                onClick={ handleListDetails}\r\n            > \r\n                {theList['list_name']}\r\n            </h3>\r\n            <ul>\r\n                {goals.map(\r\n                    goal => \r\n                        <Task \r\n                            token={token}\r\n                            goal={goal}\r\n                            goalSelected={goalSelected}\r\n                            setGoalSelected={setGoalSelected}\r\n                            handleIncreasePriority={handleIncreasePriority}\r\n                            handleDecreasePriority={handleDecreasePriority}\r\n                            updateGoals={updateGoals}\r\n                            getListDetails={getListDetails}\r\n                            setGetListDetails={setGetListDetails}\r\n                            detailsBarIsVisible={detailsBarIsVisible}\r\n                            setDetailsBarIsVisible={setDetailsBarIsVisible}\r\n                        />)}\r\n            </ul>\r\n            <span className=\"new-task\">\r\n                <button onClick={handleNewGoalCreation}>\r\n                    +\r\n                </button> \r\n\r\n                <input type=\"text\" value={newTask} onChange={ e => setNewTask( e.target.value)}/>\r\n            </span>\r\n\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nfunction RenameListInput({setNewListName, updateList}){\r\n    return (\r\n        <>\r\n            <input type=\"text\" placeholder=\"New List Name\" onChange={ e => { setNewListName(e.target.value); }}/>\r\n            <button onClick={updateList}> Update </button>\r\n        </>\r\n    );\r\n}\r\n\r\n// Helper function for ordering goals/lists\r\nfunction containsRepeats(arr){\r\n    if (!Array.isArray(arr)) return undefined;\r\n    \r\n    let newArr = [];\r\n\r\n    for (let index =0; index < arr.length; index++){\r\n        if ( newArr.includes(arr[index]) ) return true;\r\n        newArr.push(arr[index]);\r\n    }\r\n\r\n    return false;\r\n}","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\app.js",["130","131","132","133"],"import React, {useEffect, useState} from 'react';\r\nimport {BrowserRouter as Router, Switch, Route, useHistory} from 'react-router-dom';\r\n\r\nimport defaultData from './default-data.js';\r\n\r\nimport MainPage from './pages/MainPage.js';\r\nimport LoginPage from './pages/LoginPage.js';\r\nimport RegisterPage from './pages/RegisterPage.js';\r\nimport NewUserPage from './pages/NewUserPage.js';\r\nimport AccountMgmtPage from './pages/AccountMgmtPage.js';\r\n\r\nimport userManagement from '../services/userManagement.js';\r\nimport createTrialAcct from '../services/createTrialAccount.js';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst getUserRoute = '/api/me';\r\nconst getListsRoute = '/api/lists/me';\r\nconst getGoalsRoute = '/api/goals/me';\r\n\r\n\r\n// This component will perform all the of the db queries and route to all of the pages to our site.\r\n\r\n \r\n// When one logs in, the token will be stored in this component\r\n\r\n// Note, use local storage for token\r\n\r\n\r\nexport default function App() {\r\n    let history = useHistory();\r\n\r\n    const [createTrialAccount, setCreateTrialAccount] = useState(false);\r\n    const [usingTrialAccount] = useState(localStorage.trialAccount);\r\n    const [token, setToken] = useState(\"\");\r\n\r\n    useEffect( () => {\r\n        if (createTrialAccount || !usingTrialAccount){\r\n            (\r\n                async () => {\r\n                    const token = await createTrialAcct(); // Note, if this fails, then the token is set to false;\r\n                    if (token){\r\n                        setCreateTrialAccount(false);\r\n                        setToken(token);\r\n                        localStorage.setItem('trialAccount', true);\r\n                    } else {\r\n                        console.log('an error occured')\r\n                        history.push('/');\r\n                    }\r\n                }\r\n            )();\r\n        }\r\n    }, [createTrialAccount])\r\n\r\n    useEffect( () => {\r\n        if (usingTrialAccount) {\r\n            (\r\n                async () => {\r\n                    const username = localStorage.trialUsername;\r\n                    const password = localStorage.trialPassword;\r\n                    const response = await userManagement.login(username,password);\r\n                    setToken(response.data.token);\r\n                }\r\n            )();\r\n        }\r\n    }, [usingTrialAccount]);\r\n    \r\n    // We will pass setter functions here to children components so that they can request for the db to be queried.\r\n    const [initialFetchDone, setInitialFetchDone] = useState(false);\r\n    const [retrievedLists,setRetrievedLists] = useState(false);\r\n    const [retrievedGoals,setRetrievedGoals] = useState(false);\r\n\r\n\r\n    // This is our state for storing db query results\r\n    const [username, setUsername] = useState(defaultData.username);\r\n    const [email, setEmail] = useState(defaultData.email);\r\n\r\n    const [lists, setLists] = useState(defaultData.lists); // An array of objects each of which represents a list. Shape: {listId, listName, orderNumber}\r\n    const [selectedList, setSelectedList] = useState(defaultData.selectedList); // This should be the list id number\r\n    const [goals, setGoals] = useState(defaultData.goals); // An object with key-value pairs for each list. \r\n        // the shape: goals[list_id] = { fetchedOnce, data=[goal0, goal1, ...] }\r\n        // each goal has shape: {goalId, listId, goal, orderNumber, deadline, status, note, color}\r\n\r\n    \r\n    // This handles the first fetch. We will do a first fetch whenever the token changes.\r\n    useEffect( () => {\r\n        if (token) {\r\n            const retrieveData = async () => {\r\n\r\n                let goalsData = {}\r\n                const [userData, listData] = await efficientFetch({token});\r\n\r\n                setUsername(userData.username);\r\n\r\n                setEmail(userData.email);\r\n\r\n                setLists(listData);\r\n                const selectedListExists = listData.find( list => list['list_id'] === userData['selected_list']);\r\n\r\n                // If the selectedList doesn't exist, we will need to manually update selectedList.\r\n                if (!selectedListExists){\r\n                    // If listData = [], ...\r\n                    if (!listData.length){\r\n                        userManagement.update(token, 'selected_list', 0);\r\n                    } else {\r\n                        // Otherwise ...\r\n                        userManagement.update(token, 'selected_list', listData[0]['selected_list']);\r\n                        setSelectedList(listData[0]['list_id']);\r\n                    }\r\n                    \r\n                } else {\r\n                    setSelectedList( selectedListExists['list_id'] ); \r\n                }\r\n\r\n                listData.map( list => {\r\n                    let listId = list['list_id'];\r\n                    return goalsData[listId] = { \r\n                        fetchedOnce: false,\r\n                        data: []\r\n                    };\r\n                });\r\n            \r\n                setGoals(goalsData);\r\n\r\n                setRetrievedLists(true);\r\n                setInitialFetchDone(true);\r\n            }\r\n            retrieveData();\r\n        }\r\n    }, [token])\r\n    \r\n    // handle calls for goals updates\r\n    useEffect( () => {\r\n        // We only want the code to execute in a few scenarios:\r\n        // If retrievedGoals has been set to false\r\n        // OR\r\n        // If selectedList changes and the goal data has not been fetched, then this will execute \r\n        const goalsNeedRetrieval = !retrievedGoals || !goals[selectedList] || !goals[selectedList].fetchedOnce;\r\n\r\n        if (initialFetchDone && token && goalsNeedRetrieval ){\r\n            grabGoalsData({token, selectedList, goals, setGoals});\r\n            setRetrievedGoals(true);\r\n        }\r\n\r\n    }, [initialFetchDone, selectedList, retrievedGoals]);\r\n\r\n    // handle calls for lists updates\r\n    useEffect( () => {\r\n        if (token && !retrievedLists){\r\n            grabListsData({token, setLists})\r\n            setRetrievedLists(true);\r\n        }\r\n    }, [retrievedLists]);\r\n\r\n    const updateGoals = () => {\r\n        setRetrievedGoals(false);\r\n    }\r\n\r\n    const updateLists = () => {\r\n        setRetrievedLists(false);\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                        <NewUserPage setCreateTrialAccount={setCreateTrialAccount}/>\r\n                    </Route>\r\n                    <Route exact path=\"/main\">\r\n                        <MainPage\r\n                            token={token}\r\n                            username={username}\r\n                            email={email} \r\n                            lists={lists}\r\n                            selectedList={selectedList}\r\n                            setSelectedList={setSelectedList}\r\n                            goals={goals}\r\n                            updateGoals={updateGoals}\r\n                            updateLists={updateLists}\r\n                        />\r\n                    </Route>\r\n                    <Route exact path=\"/login\">\r\n                        <LoginPage updateToken={setToken} setCreateTrialAccount={setCreateTrialAccount}/>\r\n                    </Route>\r\n                    <Route exact path=\"/register\">\r\n                        <RegisterPage updateToken={setToken} setCreateTrialAccount={setCreateTrialAccount}/>\r\n                    </Route>\r\n                    <Route exact path=\"/account\">\r\n                        <AccountMgmtPage/>\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n\r\n\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\n/*\r\n    This function takes in a token and returns the user's data.\r\n    The expected shape is:\r\n        [\r\n            userData = {username, email},\r\n            listData = [{list_id, list_name, order_number}, {...}, ..., {...}],\r\n            goalsData = [[goalData1, goalData2, ....], [...], ..., [...]]\r\n        ]\r\n    Note, listData.length === goalsData.length and the order is the same.\r\n*/\r\n\r\n\r\n\r\nasync function grabListsData({token, setLists}){\r\n\r\n    let listData;\r\n\r\n    const getListsConfig = {\r\n        method: 'get',\r\n        url: getListsRoute,\r\n        headers: {\r\n            'x-access-token': token\r\n        }\r\n    }\r\n\r\n    await axios(getListsConfig)\r\n        .then( res => {\r\n            // We are just capturing the results and storing them in listData\r\n            return listData = res.data.results;\r\n        });\r\n    setLists(listData);\r\n}\r\n\r\nasync function grabGoalsData({token, selectedList, goals, setGoals}){\r\n\r\n    // if selectedList is zero, then we will not update goals at all\r\n    if (!selectedList){\r\n        return;\r\n    }\r\n\r\n    // Otherwise, ...\r\n    // Note, if selectedList has not be verified yet, then this will not throw an error. And, that's good!\r\n    let goalsData = {...goals}\r\n    const config= {\r\n        method: 'get',\r\n        url: getGoalsRoute,\r\n        params: { listId: selectedList},\r\n        headers: {\r\n            'x-access-token': token,\r\n        }\r\n    }\r\n\r\n    await axios(config)\r\n        .then( res => {\r\n            // If selectedList is not already a key in goals, then we need to add it\r\n            if (!goalsData[selectedList]){\r\n                goalsData[selectedList]={\r\n                    fetchedOnce: false, data: []\r\n                }\r\n            }\r\n\r\n            // Reading this key-value pair everytime and writing sometimes should be faster than just writing every time \r\n            if (!goalsData[selectedList].fetchedOnce) {goalsData[selectedList].fetchedOnce = true;}\r\n            goalsData[selectedList].data= res.data.results;\r\n        });\r\n    setGoals(goalsData);\r\n}\r\n\r\nasync function firstFetch({token, setUsername, setEmail, setSelectedList, setLists, setGoals}){\r\n\r\n    // on first fetch: grab user data, grab list data, handle selectedList, make goals obj,\r\n\r\n    let userData;\r\n    let listData;\r\n    let goalsData={};\r\n\r\n    const getUserConfig = {\r\n        method: 'get',\r\n        url: getUserRoute,\r\n        headers: {\r\n            'x-access-token': token,\r\n        }\r\n    }\r\n    const getListsConfig = {\r\n        method: 'get',\r\n        url: getListsRoute,\r\n        headers: {\r\n            'x-access-token': token\r\n        }\r\n    }\r\n\r\n    await axios(getUserConfig)\r\n        .then( res => {\r\n            // We are just capturing the results and storing them in userData\r\n            return userData = res.data.results;\r\n        });\r\n    setUsername(userData.username);   \r\n    setEmail(userData.email);\r\n\r\n    const selectedList= userData['selected_list'];\r\n\r\n    await axios(getListsConfig)\r\n        .then( res => {\r\n            // We are just capturing the results and storing them in listData\r\n            return listData = res.data.results;\r\n        });\r\n    setLists(listData);\r\n\r\n    // We need to manually check that the selectedList exists because we can't have a circular reference in our db.\r\n\r\n    const selectedListExists = listData.find( list => list['list_id'] === selectedList);\r\n\r\n    // If the selectedList doesn't exist, we will need to manually update selectedList.\r\n    if (!selectedListExists){\r\n        // If listData = [], ...\r\n        if (!listData.length){\r\n            await userManagement.update(token, 'selected_list', 0);\r\n        }\r\n        // Otherwise ...\r\n        await userManagement.update(token, 'selected_list', listData[0]['selected_list']);\r\n        setSelectedList(listData[0]['list_id']);\r\n    } else {\r\n        setSelectedList( selectedList ); \r\n    }\r\n\r\n    // For each list, we are going to add key-value pair to goalsData.\r\n    // When we actually fetch the goalsData, we will fill in this data.\r\n    listData.map( list => {\r\n        let listId = list['list_id'];\r\n        return goalsData[listId] = { \r\n            fetchedOnce: false,\r\n            data: []\r\n        };\r\n    });\r\n\r\n    setGoals(goalsData);\r\n}\r\n\r\n\r\nasync function GrabData(config){\r\n    return axios(config).then(res => res.data.results);\r\n}\r\n\r\nasync function efficientFetch({token}){\r\n\r\n    const getUserConfig = {\r\n        method: 'get',\r\n        url: getUserRoute,\r\n        headers: {\r\n            'x-access-token': token,\r\n        }\r\n    }\r\n    const getListsConfig = {\r\n        method: 'get',\r\n        url: getListsRoute,\r\n        headers: {\r\n            'x-access-token': token\r\n        }\r\n    }\r\n\r\n    return Promise.all([GrabData(getUserConfig), GrabData(getListsConfig)])\r\n}","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\stickies-bar\\StickiesBar.js",["134"],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\details-bar\\DetailsBar.js",["135","136"],"import \"../../component-styles/details-bar.css\";\r\nimport {useEffect, useState} from 'react';\r\n\r\nimport GoalDetails from './GoalDetails.js';\r\nimport ListDetails from './ListDetails.js';\r\n\r\n\r\n\r\n// This component is a child of MainPage that is shown whenever the user wants to update either list or goal data.\r\n\r\n// NOTES ON PROPS PASSED TO THIS COMPONENT\r\n\r\n// token is set in App and used as credentials to make db queries\r\n// goals is defined in App and has shape { [list_id]: { fetchedOnce, data: [goal1,goal2,...] } }.\r\n// goals can be an empty object ie. goals = {}\r\n// goal data has shape: { list_id, goal_id, goal, note, status color }\r\n// lists is set in App and has shape [ {list_id, list_name, order_number}, {list_id, list_name, order_number}, ...]\r\n// list data has shape { list_id, list_name, order_number }\r\n// selectedList is a list_id (i.e. positive number) which is defined in Main Page\r\n// goalSelected is a goal_id which is defined in Main Page and updated by Sticky\r\n// setGoalSelected is the setter for goalSelected\r\n// getListDetails is a boolean that represents whether use wants to update a list or not.\r\n// deleteList is defined in MainPage and handles deleting a list. Because we are using a relational db, we must delete all goals associated to a list before we delete the list itself.\r\n// updateLists is a synchronous function defined in App. This function forces App to query the db for all list info. Note, this fn is not async.\r\n// updateGoals is a synchronous function defined in App. This function forces App to query the db for all goals info. Note, this fn is not async.\r\n\r\n\r\n// Note, we are not implementing deadlines for the moment because not all browsers support that input type. We will implement this in the future.\r\n\r\n\r\nexport default function DetailsBar({token, goals, lists, selectedList, goalSelected, setGoalSelected, getListDetails, handleDeleteList, updateGoals, updateLists, visibility, setVisibility, setData}){\r\n    \r\n    return (\r\n        <div\r\n            id=\"details-bar\" \r\n            className={\r\n                visibility\r\n                    ? \"component-shown\"\r\n                    : \"component-hidden\"\r\n            }\r\n        >\r\n            {getListDetails \r\n                ? <ListDetails\r\n                    token={token}\r\n                    lists={lists}\r\n                    selectedList={selectedList}\r\n                    updateLists={updateLists}\r\n                    setVisibility={setVisibility}\r\n                    handleDeleteList={handleDeleteList}\r\n                />\r\n                : <GoalDetails \r\n                    token={token}\r\n                    goals={goals}\r\n                    selectedList={selectedList}\r\n                    goalSelected={goalSelected}\r\n                    setGoalSelected={setGoalSelected}\r\n                    updateGoals={updateGoals}\r\n                    setVisibility={setVisibility}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useAPI.js",["137"],"import {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport hash from 'hash-object';\r\nconst CancelToken = axios.CancelToken;\r\n\r\n\r\n//this hook will allow us so streamline interacting with a rest api\r\n\r\n/*\r\nreturns\r\n    result, response, error, isLoading, fetch\r\n*/\r\n\r\nexport default function useAPI(config, initialFetch=true){\r\n    const [state, updateState] = useState({\r\n        response: undefined,\r\n        error: undefined,\r\n        isLoading: true\r\n    })\r\n\r\n    const configHash = hash(config);\r\n\r\n    const source = CancelToken.source();\r\n\r\n    function fetch(){\r\n        axios({\r\n            ...config, \r\n            cancelToken: source.token,\r\n            })\r\n        .then( res => {\r\n            updateState({ error: undefined, response: res, isLoading: false});\r\n        })\r\n        .catch( err => {\r\n            if (axios.isCancel(err)){\r\n                console.log('Request canceled by cleanup: ', err.message);\r\n            } else {\r\n                updateState({error: err, response: undefined, isLoading: false});\r\n            }\r\n        });\r\n    }\r\n\r\n    useEffect( () => {\r\n        updateState({...state, isLoading: true});\r\n\r\n        if (initialFetch){\r\n            fetch();\r\n        }\r\n\r\n        return () => {\r\n            source.cancel('useEffect cleanup.');\r\n        }\r\n\r\n    }, [configHash]);\r\n\r\n    const { response, error, isLoading} = state;\r\n\r\n    const data = response ? response.data : undefined;\r\n    return { data, response, error, isLoading, fetch };\r\n}\r\n\r\n/*\r\n\r\n    const config = {\r\n        \"method\":\"post\",\r\n        \"url\":\"api/login\",\r\n        \"headers\":{\r\n        \"Content-Type\":\"application/json\",\r\n        \"useQueryString\":true,\r\n        'rejectUnauthorized': false,\r\n        },\r\n        data: {\r\n            'username': 'tlane',\r\n            'password': 'some_password'\r\n        }\r\n    }\r\n    \r\n\r\n\r\n\r\n    const getData = async () => {\r\n        try{\r\n            return await axios(config)\r\n            .then( (res) => {\r\n                console.log('response',res);\r\n            })\r\n        } catch (e) {\r\n            console.log('error', e)\r\n        }\r\n    }\r\n\r\n    getData();\r\n\r\n*/",["138","139"],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\login\\Login.js",["140","141"],"import {useEffect, useState} from 'react';\r\nimport useLocalStorage from '../../hooks/useLocalStorage.js'\r\nimport FormData from 'form-data';\r\nimport axios from 'axios';\r\n\r\n\r\n// login route is the url for the post request\r\n// loginIdentifier is a string e.g. email or username\r\n// next is a callback that takes in the response object and tells axios what to do next\r\n// handleError is a callback that tkes in the error object and tells axios what to do next\r\nexport default function Login({loginRoute, loginIdentifier, next, handleError}){\r\n\r\n    // We use local storage for the \"Remember Me\" feature.\r\n    const [store, addItem, removeItem, clearStore] = useLocalStorage();\r\n\r\n\r\n    \r\n    // We need state for the login credentials so that we may pass that info into our custom form-submission handler.\r\n    const [loginName, setLoginName] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n\r\n\r\n    // When this component first loads, it will check to see if localStorage has stored login info.\r\n    // If so, useEffect will automatically update the state.\r\n    useEffect( ()=> {\r\n        if (store[loginIdentifier]){\r\n            setRememberMe(true);\r\n            setLoginName(store[loginIdentifier]);\r\n        }\r\n    }, []);\r\n\r\n    const handleRememberMe = e => {\r\n        return setRememberMe(e.target.checked);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n\r\n        e.preventDefault(); // This stops the browser from handling the form on its own.\r\n\r\n        // Add loginName to localStorage if \"Remember Me\" box is checked.\r\n        if (rememberMe) {\r\n            addItem(loginIdentifier, loginName);\r\n        } else { // Otherwise, clear local storage.\r\n            clearStore();\r\n        }\r\n\r\n        const form = new FormData();\r\n        form.append(loginIdentifier, loginName);\r\n        form.append('password', loginPassword);\r\n\r\n        //reseting the password\r\n        setLoginPassword(\"\");\r\n        const config = {\r\n            method: 'post',\r\n            url: loginRoute,\r\n            data: form,\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            }\r\n        }\r\n\r\n        try {\r\n        axios(config)\r\n            .then( next )\r\n        } catch (e) {\r\n            handleError(e);\r\n        }\r\n    }\r\n\r\n    \r\n  \r\n  \r\n    return (\r\n        <form id=\"login\" onSubmit={handleSubmit}>\r\n            <label for={loginIdentifier}></label>\r\n            <input \r\n                type=\"text\"\r\n                value={loginName}\r\n                required \r\n                placeholder={loginIdentifier} \r\n                name={loginIdentifier} \r\n                onChange={ e => {return setLoginName(e.target.value)} }\r\n            />\r\n\r\n            <label for=\"password\"></label>\r\n            <input \r\n                type=\"password\" \r\n                value={loginPassword} \r\n                required \r\n                placeholder=\"password\" \r\n                name=\"password\" \r\n                onChange={ e => {return setLoginPassword(e.target.value)} }\r\n            />\r\n\r\n            <label for=\"remember-me\"> Remember Me </label>\r\n            <input \r\n                type=\"checkbox\" \r\n                name=\"remember-me\" \r\n                onChange={handleRememberMe}\r\n                checked={rememberMe}\r\n            />\r\n\r\n            <button type=\"submit\"> Login </button>\r\n        </form>\r\n    );\r\n}",["142","143"],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useLocalStorage.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\register\\Register.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\MainPage.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\LoginPage.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\RegisterPage.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\login\\login.js",["144","145"],"import {useEffect, useState} from 'react';\r\nimport useLocalStorage from '../../hooks/useLocalStorage.js'\r\nimport FormData from 'form-data';\r\nimport axios from 'axios';\r\n\r\n\r\n// login route is the url for the post request\r\n// loginIdentifier is a string e.g. email or username\r\n// next is a callback that takes in the response object and tells axios what to do next\r\n// handleError is a callback that tkes in the error object and tells axios what to do next\r\nexport default function Login({loginRoute, loginIdentifier, next, handleError}){\r\n\r\n    // We use local storage for the \"Remember Me\" feature.\r\n    const [store, addItem, removeItem, clearStore] = useLocalStorage();\r\n\r\n\r\n    \r\n    // We need state for the login credentials so that we may pass that info into our custom form-submission handler.\r\n    const [loginName, setLoginName] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n\r\n\r\n    // When this component first loads, it will check to see if localStorage has stored login info.\r\n    // If so, useEffect will automatically update the state.\r\n    useEffect( ()=> {\r\n        if (store[loginIdentifier]){\r\n            setRememberMe(true);\r\n            setLoginName(store[loginIdentifier]);\r\n        }\r\n    }, []);\r\n\r\n    const handleRememberMe = e => {\r\n        return setRememberMe(e.target.checked);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n\r\n        e.preventDefault(); // This stops the browser from handling the form on its own.\r\n\r\n        // Add loginName to localStorage if \"Remember Me\" box is checked.\r\n        if (rememberMe) {\r\n            addItem(loginIdentifier, loginName);\r\n        } else { // Otherwise, clear local storage.\r\n            clearStore();\r\n        }\r\n\r\n        const form = new FormData();\r\n        form.append(loginIdentifier, loginName);\r\n        form.append('password', loginPassword);\r\n\r\n        //reseting the password\r\n        setLoginPassword(\"\");\r\n        const config = {\r\n            method: 'post',\r\n            url: loginRoute,\r\n            data: form,\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            }\r\n        }\r\n\r\n        try {\r\n        axios(config)\r\n            .then( next )\r\n        } catch (e) {\r\n            handleError(e);\r\n        }\r\n    }\r\n\r\n    \r\n  \r\n  \r\n    return (\r\n        <form id=\"login\" onSubmit={handleSubmit}>\r\n            <label for={loginIdentifier}></label>\r\n            <input \r\n                type=\"text\"\r\n                value={loginName}\r\n                required \r\n                placeholder={loginIdentifier} \r\n                name={loginIdentifier} \r\n                onChange={ e => {return setLoginName(e.target.value)} }\r\n            />\r\n\r\n            <label for=\"password\"></label>\r\n            <input \r\n                type=\"password\" \r\n                value={loginPassword} \r\n                required \r\n                placeholder=\"password\" \r\n                name=\"password\" \r\n                onChange={ e => {return setLoginPassword(e.target.value)} }\r\n            />\r\n\r\n\r\n\r\n            <button type=\"submit\"> Login </button>\r\n            <label className='remember-me' for=\"remember-me\">\r\n                Remember Me\r\n                <input \r\n                    type=\"checkbox\" \r\n                    name=\"remember-me\" \r\n                    onChange={handleRememberMe}\r\n                    checked={rememberMe}\r\n                />\r\n            </label>\r\n        </form>\r\n    );\r\n}","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\listManagement.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\goalManagement.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useKeyDown.js",["146"],"import {useEffect, useState} from 'react';\r\n\r\n\r\nexport default function useKeyDown(targetKey){\r\n    const [keyDown, setKeyDown] = useState(false);\r\n \r\n    const callback = ({ key }) => {\r\n        if (key === targetKey) {\r\n            setKeyDown(true);\r\n            setTimeout( () => {setKeyDown(false)}, 500); \r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', callback);\r\n        return () => {window.removeEventListener('keydown', callback)}\r\n    },[]);\r\n    \r\n    return keyDown\r\n}","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\userManagement.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\task\\OrderButtons.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\details-bar\\GoalDetails.js",["147"],"import {useEffect, useState} from 'react';\r\nimport goalManagement from '../../services/goalManagement.js';\r\n\r\n// This component is a child of DetailsBar that is shown whenever the user wants to update goal data.\r\n\r\n// NOTES ON PROPS PASSED TO THIS COMPONENT\r\n\r\n// token is set in App and used as credentials to make db queries\r\n// goals is defined in App and has shape { [list_id]: { fetchedOnce, data: [goal1,goal2,...] } }.\r\n// goals can be an empty object ie. goals = {}\r\n// goal data has shape: { list_id, goal_id, goal, note, status color }\r\n// selectedList is a list_id (i.e. positive number) which is defined in Main Page\r\n// goalSelected is a goal_id which is defined in Main Page and updated by Sticky\r\n// setGoalSelected is the setter for goalSelected\r\n// updateGoals is a synchronous function defined in App. This function forces App to query the db for all goals info. Note, this fn is not async.\r\n// setVisibility is a setter defined in DetailsBar. If visiblity is truthy, then detailsbar is shown and also the inverse of that statement. \r\n\r\n\r\n\r\n// Because DetailsBar is just moved off screen, we always need to have a goal selected for GoalDetails. We define a blank goal in case no goal is selected.\r\nconst blankGoal = { //blank goal in case no goal is selected\r\n    'goal_id': \"\",\r\n    'status': false,\r\n    'goal': \"\",\r\n    'deadline': '',\r\n    'note': '',\r\n    'color': ''\r\n}\r\n\r\nexport default function GoalDetails({ token, goals, selectedList, goalSelected, setGoalSelected, updateGoals, setVisibility }){\r\n\r\n    /*  \r\n     *  Using goalSelected, we create state for the goal object: theGoal.\r\n\r\n     *  If goals is an empty object or goalSelected is null or selectedList null, we will set theGoal = blankGoal.\r\n     *  Otherwise, we set theGoal to be the goal object.\r\n     * \r\n     *  We use the .find() method to define theGoal in the latter case. That method sometimes returns undefined.\r\n     *  In this case, we set theGoal = blankGoal.\r\n     * \r\n     *  Note, if goals = {}, then goals[selectedList].data.find( goal => goal===goalSelected ) will throw an error.\r\n     *  Hence, we need to make sure everything is defined properly before we attempt to define theGoal.\r\n     *  We check in this order:\r\n     *      that goals is not an empty object,\r\n     *      that selectedList is defined,\r\n     *      that the selectedList is a key in goals, \r\n     *      and that goals[selectedList].data is actually an array.\r\n     *  If all those are true, then we can safely call goals[selectedList].data.find( goal => goal===goalSelected )\r\n     *  without fear of error.\r\n     */\r\n\r\n\r\n\r\n    const initialGoal = Object.keys(goals).length && selectedList && goals[selectedList] && Array.isArray(goals[selectedList].data)\r\n        ? goals[selectedList].data.find( goal => goal['goal_id'] === goalSelected) || blankGoal\r\n        : blankGoal;\r\n\r\n    const [theGoal, setTheGoal] = useState(initialGoal);\r\n\r\n    \r\n    // This state is used to store onChange events for the input elements below.\r\n    const [updatedStatus, setUpdatedStatus] = useState(theGoal.status ? 1 : 0)\r\n    const [updatedGoal, setUpdatedGoal] = useState(theGoal.goal)\r\n    const [updatedNote, setUpdatedNote] = useState(theGoal.note===\"null\" || theGoal.note===\"undefined\" ? null : theGoal.note);\r\n    const [updatedColor, setUpdatedColor] = useState(theGoal.color)\r\n\r\n    useEffect( () => {\r\n        const nextGoal = Object.keys(goals).length && selectedList && goals[selectedList] && Array.isArray(goals[selectedList].data)\r\n            ? goals[selectedList].data.find( goal => goal['goal_id'] === goalSelected) || blankGoal\r\n            : blankGoal\r\n        setTheGoal(nextGoal);\r\n    }, [goalSelected])\r\n\r\n    useEffect( () => {\r\n        setUpdatedStatus(theGoal.status ? 1 : 0);\r\n        setUpdatedGoal(theGoal.goal);\r\n        setUpdatedNote(theGoal.note===\"null\" || theGoal.note===\"undefined\" ? \"\" : theGoal.note);\r\n        setUpdatedColor(theGoal.color);\r\n    }, [theGoal])\r\n\r\n\r\n    const handleSubmission = e => {\r\n        if (goalSelected) {\r\n            goalManagement.update(token, \r\n                theGoal['goal_id'], \r\n                updatedGoal, \r\n                theGoal.order_number, \r\n                theGoal.deadline, \r\n                updatedStatus, \r\n                updatedNote, \r\n                updatedColor)\r\n                .then( res => {\r\n                    setVisibility(false);\r\n                    updateGoals();\r\n                });\r\n        }\r\n    }\r\n\r\n    const handleHide = e => {\r\n        setVisibility(false);\r\n    }\r\n\r\n    const handleDelete = e => {\r\n        if (theGoal['goal_id']){\r\n            goalManagement.delete(token, theGoal['goal_id'])\r\n                .then(updateGoals)\r\n                .then( () => {setVisibility(false);});\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {/* Note, GoalBox, NoteBox and HighlightBox are defined below. */}\r\n            <div className=\"detail\" id=\"goal-box\"> \r\n                <GoalBox\r\n                    goal={updatedGoal}\r\n                    status={updatedStatus}\r\n                    updateGoal={setUpdatedGoal}\r\n                    updateStatus={setUpdatedStatus}\r\n                /> \r\n            </div>\r\n\r\n            <div className=\"detail\" id=\"note-box\">\r\n                <NoteBox \r\n                    note={updatedNote}\r\n                    updateNote={setUpdatedNote}/>\r\n            </div>\r\n            \r\n            <div className=\"detail\">\r\n                <HighlightBox color={updatedColor} setColor={setUpdatedColor} />\r\n            </div>\r\n            <div id=\"details-bar-buttons-container\">\r\n                <button onClick={handleSubmission}> Update </button>\r\n                <button onClick={handleHide}> Hide </button>\r\n                <button onClick={handleDelete}> Delete </button>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nfunction GoalBox({goal, status, updateGoal, updateStatus}){\r\n    return (\r\n        <>  \r\n            <label>\r\n                <input type=\"checkbox\" checked={status} onChange={ e => {updateStatus(e.target.checked ? 1 : 0)}} />\r\n                <span\r\n                    className=\"status-box\">\r\n                </span>\r\n                <textarea type=\"text\" value={goal} onChange={(e) => {updateGoal(e.target.value)}}/>\r\n            </label>\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nfunction NoteBox({note, updateNote}){\r\n    return(\r\n        <>\r\n            <label>Note</label>\r\n            <textarea\r\n                placeholder = {note || \"Leave a note for your task\"}\r\n                value = {note}\r\n                onChange={(e) => {updateNote(e.target.value)}}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n// This component still needs work.\r\nfunction HighlightBox({color, setColor}){\r\n    return(\r\n        <>  <label> Highlight Color</label>\r\n            <select value={color ? color : null} onChange={ e => { setColor(e.target.value) } }>\r\n                <option value=\"null\"> None </option>\r\n                <option value=\"blue\"> Blue </option>\r\n                <option value=\"green\"> Green </option>  \r\n                <option value=\"orange\"> Orange </option>   \r\n                <option value=\"pink\"> Pink </option>  \r\n            </select>\r\n        </>\r\n    )\r\n}","C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\details-bar\\ListDetails.js",["148"],"import {useEffect, useState} from 'react';\r\nimport listManagement from '../../services/listManagement.js';\r\n\r\n\r\n// This component is a child of DetailsBar that is shown whenever the user wants to rename a list.\r\n\r\n// NOTES ON PROPS PASSED TO THIS COMPONENT\r\n\r\n// token is set in App and used as credentials to make db queries\r\n// lists is set in App and has shape [ {list_id, list_name, order_number}, {list_id, list_name, order_number}, ...]\r\n// list data has shape { list_id, list_name, order_number }\r\n// selectedList is a list_id (i.e. positive number) which is defined in Main Page\r\n// updateLists is a synchronous function defined in App. This function forces App to query the db for all list info. Note, this fn is not async.\r\n// setVisibility is a setter defined in DetailsBar. If visiblity is truthy, then detailsbar is shown and also the inverse of that statement.\r\n// deleteList is defined in MainPage and handles deleting a list. Because we are using a relational db, we must delete all goals associated to a list before we delete the list itself.\r\n\r\nexport default function ListDetails({token, lists, selectedList, updateLists, setVisibility, handleDeleteList}){\r\n\r\n    const blankList = { 'list_id': \"\", 'list_name': \"\", \"order_number\": 1 }\r\n\r\n    // Note, lists is an array so lists.find() will always return an element of lists or undefined.\r\n    const initialList = lists.find(list => list['list_id'] === selectedList ) || blankList;\r\n    \r\n    // theList is a list object i.e. theList = {list_id, list_name, order_number}\r\n    const [theList, setTheList] = useState(initialList);\r\n\r\n    useEffect( () => {\r\n        const nextList = lists.find(list => list['list_id'] === selectedList ) || blankList;\r\n        setTheList(nextList);\r\n    }, [selectedList]);\r\n\r\n    const [updatedListName, setUpdatedListName] = useState(theList['list_name'])\r\n\r\n    const handleSubmission = async () => {\r\n        if (theList['list_id'] && updatedListName){\r\n            await listManagement.update(token, 'list_name', updatedListName, theList['list_id'])\r\n            updateLists();\r\n            setVisibility(false);\r\n        }\r\n        \r\n    }\r\n\r\n    const handleHide = () => {\r\n        setVisibility(false);\r\n    }\r\n\r\n    const handleDeleteListAndHide = e => {\r\n        handleDeleteList();\r\n        setVisibility(false);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"detail\" id=\"list-name-box\">\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder={theList['list_name']}\r\n                    onChange={(e) => {setUpdatedListName(e.target.value)}}/>\r\n            </div>\r\n\r\n            <div id=\"details-bar-buttons-container\">\r\n                <button onClick={handleSubmission}> Update </button>\r\n                <button onClick={handleHide}> Hide </button>\r\n                <button onClick={handleDeleteListAndHide}> Delete </button>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n\r\n}",["149","150"],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\default-data.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\NewUserPage.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\services\\createTrialAccount.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\task\\HighlightedText.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\components\\pages\\AccountMgmtPage.js",[],"C:\\Users\\Thomas\\Desktop\\Coding\\Projects\\Highlighted Projects\\Daily Goals\\daily-goals\\src\\hooks\\useWindowDimensions.js",[],{"ruleId":"151","replacedBy":"152"},{"ruleId":"153","replacedBy":"154"},{"ruleId":"155","severity":1,"message":"156","line":9,"column":8,"nodeType":"157","messageId":"158","endLine":9,"endColumn":22},{"ruleId":"155","severity":1,"message":"159","line":10,"column":8,"nodeType":"157","messageId":"158","endLine":10,"endColumn":22},{"ruleId":"160","severity":1,"message":"161","line":80,"column":8,"nodeType":"162","endLine":80,"endColumn":18,"suggestions":"163"},{"ruleId":"160","severity":1,"message":"164","line":98,"column":8,"nodeType":"162","endLine":98,"endColumn":24,"suggestions":"165"},{"ruleId":"155","severity":1,"message":"166","line":234,"column":10,"nodeType":"157","messageId":"158","endLine":234,"endColumn":25},{"ruleId":"160","severity":1,"message":"167","line":55,"column":8,"nodeType":"162","endLine":55,"endColumn":28,"suggestions":"168"},{"ruleId":"160","severity":1,"message":"169","line":147,"column":8,"nodeType":"162","endLine":147,"endColumn":56,"suggestions":"170"},{"ruleId":"160","severity":1,"message":"171","line":155,"column":8,"nodeType":"162","endLine":155,"endColumn":24,"suggestions":"172"},{"ruleId":"155","severity":1,"message":"173","line":273,"column":16,"nodeType":"157","messageId":"158","endLine":273,"endColumn":26},{"ruleId":"160","severity":1,"message":"174","line":63,"column":8,"nodeType":"162","endLine":63,"endColumn":15,"suggestions":"175"},{"ruleId":"155","severity":1,"message":"176","line":2,"column":9,"nodeType":"157","messageId":"158","endLine":2,"endColumn":18},{"ruleId":"155","severity":1,"message":"177","line":2,"column":20,"nodeType":"157","messageId":"158","endLine":2,"endColumn":28},{"ruleId":"160","severity":1,"message":"178","line":53,"column":8,"nodeType":"162","endLine":53,"endColumn":20,"suggestions":"179"},{"ruleId":"151","replacedBy":"180"},{"ruleId":"153","replacedBy":"181"},{"ruleId":"155","severity":1,"message":"182","line":14,"column":28,"nodeType":"157","messageId":"158","endLine":14,"endColumn":38},{"ruleId":"160","severity":1,"message":"183","line":31,"column":8,"nodeType":"162","endLine":31,"endColumn":10,"suggestions":"184"},{"ruleId":"151","replacedBy":"185"},{"ruleId":"153","replacedBy":"186"},{"ruleId":"155","severity":1,"message":"182","line":14,"column":28,"nodeType":"157","messageId":"158","endLine":14,"endColumn":38},{"ruleId":"160","severity":1,"message":"183","line":31,"column":8,"nodeType":"162","endLine":31,"endColumn":10,"suggestions":"187"},{"ruleId":"160","severity":1,"message":"188","line":17,"column":7,"nodeType":"162","endLine":17,"endColumn":9,"suggestions":"189"},{"ruleId":"160","severity":1,"message":"190","line":72,"column":8,"nodeType":"162","endLine":72,"endColumn":22,"suggestions":"191"},{"ruleId":"160","severity":1,"message":"192","line":30,"column":8,"nodeType":"162","endLine":30,"endColumn":22,"suggestions":"193"},{"ruleId":"151","replacedBy":"194"},{"ruleId":"153","replacedBy":"195"},"no-native-reassign",["196"],"no-negated-in-lhs",["197"],"no-unused-vars","'listManagement' is defined but never used.","Identifier","unusedVar","'userManagement' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'token' and 'updateGoals'. Either include them or remove the dependency array. If 'updateGoals' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["198"],"React Hook useEffect has missing dependencies: 'handleNewGoalCreation' and 'newTask'. Either include them or remove the dependency array.",["199"],"'RenameListInput' is defined but never used.","React Hook useEffect has missing dependencies: 'history' and 'usingTrialAccount'. Either include them or remove the dependency array.",["200"],"React Hook useEffect has missing dependencies: 'goals' and 'token'. Either include them or remove the dependency array.",["201"],"React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.",["202"],"'firstFetch' is defined but never used.","React Hook useEffect has missing dependencies: 'token' and 'updateLists'. Either include them or remove the dependency array. If 'updateLists' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["203"],"'useEffect' is defined but never used.","'useState' is defined but never used.","React Hook useEffect has missing dependencies: 'fetch', 'initialFetch', 'source', and 'state'. Either include them or remove the dependency array. You can also do a functional update 'updateState(s => ...)' if you only need 'state' in the 'updateState' call.",["204"],["196"],["197"],"'removeItem' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'loginIdentifier' and 'store'. Either include them or remove the dependency array. If 'setLoginName' needs the current value of 'loginIdentifier', you can also switch to useReducer instead of useState and read 'loginIdentifier' in the reducer.",["205"],["196"],["197"],["206"],"React Hook useEffect has a missing dependency: 'callback'. Either include it or remove the dependency array.",["207"],"React Hook useEffect has missing dependencies: 'goals' and 'selectedList'. Either include them or remove the dependency array.",["208"],"React Hook useEffect has missing dependencies: 'blankList' and 'lists'. Either include them or remove the dependency array.",["209"],["196"],["197"],"no-global-assign","no-unsafe-negation",{"desc":"210","fix":"211"},{"desc":"212","fix":"213"},{"desc":"214","fix":"215"},{"desc":"216","fix":"217"},{"desc":"218","fix":"219"},{"desc":"220","fix":"221"},{"desc":"222","fix":"223"},{"desc":"224","fix":"225"},{"desc":"224","fix":"226"},{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"231","fix":"232"},"Update the dependencies array to be: [theGoals, token, updateGoals]",{"range":"233","text":"234"},"Update the dependencies array to be: [enterKeyIsDown, handleNewGoalCreation, newTask]",{"range":"235","text":"236"},"Update the dependencies array to be: [createTrialAccount, history, usingTrialAccount]",{"range":"237","text":"238"},"Update the dependencies array to be: [initialFetchDone, selectedList, retrievedGoals, goals, token]",{"range":"239","text":"240"},"Update the dependencies array to be: [retrievedLists, token]",{"range":"241","text":"242"},"Update the dependencies array to be: [lists, token, updateLists]",{"range":"243","text":"244"},"Update the dependencies array to be: [configHash, fetch, initialFetch, source, state]",{"range":"245","text":"246"},"Update the dependencies array to be: [loginIdentifier, store]",{"range":"247","text":"248"},{"range":"249","text":"248"},"Update the dependencies array to be: [callback]",{"range":"250","text":"251"},"Update the dependencies array to be: [goalSelected, goals, selectedList]",{"range":"252","text":"253"},"Update the dependencies array to be: [blankList, lists, selectedList]",{"range":"254","text":"255"},[4066,4076],"[theGoals, token, updateGoals]",[4705,4721],"[enterKeyIsDown, handleNewGoalCreation, newTask]",[1848,1868],"[createTrialAccount, history, usingTrialAccount]",[5760,5808],"[initialFetchDone, selectedList, retrievedGoals, goals, token]",[6019,6035],"[retrievedLists, token]",[3217,3224],"[lists, token, updateLists]",[1322,1334],"[configHash, fetch, initialFetch, source, state]",[1306,1308],"[loginIdentifier, store]",[1306,1308],[488,490],"[callback]",[3675,3689],"[goalSelected, goals, selectedList]",[1757,1771],"[blankList, lists, selectedList]"]